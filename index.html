<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link data-trunk rel="copy-dir" href="assets" />
    <link data-trunk rel="inline" href="build/web/styles.css" />
</head>

<body>
    <link data-trunk rel="inline" href="build/web/sound.js" />

    <h1>XYW</h1>
    <p>Enjoy...!</p>
    <div id="wrapper">
        <div id="container">
            <button id="fullscreen"><img style="width:100%;height:100%;display:block;"
                    src="assets/fullscreen.svg"></button>
        </div>
    </div>
    <script>
        let container = document.querySelector("#container");
        let wrapper = document.querySelector("#wrapper");

        document.querySelector('#fullscreen').addEventListener('click', requestFullScreen, false);

        function requestFullScreen() {
            if (!document.fullscreenElement) {
                container.requestFullscreen().then(() => {
                    window.screen.orientation.lock('landscape').catch(e => console.log(e))
                });
            }
        }

        window.addEventListener('load', function () {
            const interval = setInterval(() => {
                let canvas = document.querySelector("canvas");

                if (canvas) {
                    clearInterval(interval);
                    canvas.onselectstart = () => {
                        return false;
                    };

                    let width = canvas.getAttribute('width');
                    let height = canvas.getAttribute('height');

                    container.style.maxWidth = width + 'px';
                    container.style.maxHeight = height + 'px';
                    container.appendChild(canvas);
                    canvas.style.display = 'block';
                    wrapper.style.display = 'block';
                }
            }, 100)
        }, false);
    </script>
</body>

</html>